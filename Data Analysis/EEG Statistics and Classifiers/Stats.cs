using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using Accord.Statistics.Testing;
namespace AnalysisCSharp
{
    class Stats
    {
        static void Main(String[] args)
        {

            double[] all_electrodes = new double[] { 0.85334198572355613, 0.85918234912394553, 0.84620376378974693, 0.835820895522388,
                0.84815055158987673, 0.82543802725502924, 0.83517196625567813, 0.85074626865671643,
                0.85269305645684623, 0.83776768332251783, 0.84445165476963013 };

            double[][] electrodes = new double[][]
            {
                //2
                new double[] { 0.88384166125892283, 0.84944841012329653, 0.84750162232316673, 0.84944841012329653, 0.84295911745619723, 0.84685269305645683, 0.86242699545749513, 0.84685269305645683, 0.85204412719013622, 0.84815055158987673,  0.85295262816353024 },
                //3
                new double[] { 0.85918234912394553, 0.86242699545749513, 0.86437378325762493, 0.82933160285528873, 0.85334198572355613, 0.84425697598961713, 0.85139519792342633, 0.84879948085658663, 0.87865022712524332, 0.84815055158987673, 0.853990914990266 },
                //4
                new double[]{ 0.86502271252433482, 0.86956521739130432, 0.87410772225827382, 0.84944841012329653, 0.86956521739130432, 0.853990914990266, 0.835820895522388, 0.85788449059052563, 0.82219338092147953, 0.85593770279039583, 0.85535366645035693 },
                //5
                new double[]{ 0.85139519792342633, 0.84620376378974693, 0.872809863724854, 0.853990914990266, 0.83517196625567813, 0.83906554185593774, 0.86826735885788453, 0.87929915639195333, 0.85139519792342633, 0.85723556132381573, 0.85548345230369871 },
                //6
                new double[]{ 0.85074626865671643, 0.87345879299156393, 0.863075924724205, 0.83062946138870863, 0.85139519792342633, 0.85334198572355613, 0.84944841012329653, 0.86567164179104472, 0.85723556132381573, 0.85334198572355613, 0.85483452303698915 },
                //7
                new double[]{ 0.85204412719013622, 0.85269305645684623, 0.845554834523037, 0.863075924724205, 0.84295911745619723, 0.854639844256976, 0.85723556132381573, 0.86632057105775473, 0.85269305645684623, 0.85074626865671643, 0.85379623621025336 },
                //8
                new double[]{ 0.81116158338741073, 0.84231018818948733, 0.84620376378974693, 0.86891628812459443, 0.845554834523037, 0.86761842959117452, 0.85528877352368593, 0.88384166125892283, 0.84944841012329653, 0.86826735885788453, 0.85386112913692414 },
                //9
                new double[]{ 0.84815055158987673, 0.85983127839065543, 0.863075924724205, 0.845554834523037, 0.86177806619078523, 0.86502271252433482, 0.85204412719013622, 0.82608695652173914, 0.853990914990266, 0.85334198572355613, 0.85288773523685923 },
                //10
                new double[]{ 0.85074626865671643, 0.84685269305645683, 0.84036340038935753, 0.85334198572355613, 0.87151200519143412, 0.85853341985723552, 0.854639844256976, 0.85788449059052563, 0.854639844256976, 0.853990914990266, 0.85425048669695 },
                //11
                new double[]{0.85983127839065543, 0.85918234912394553, 0.84295911745619723, 0.845554834523037, 0.86048020765736533, 0.84879948085658663, 0.86242699545749513, 0.86826735885788453, 0.881245944192083, 0.82478909798831923, 0.85535366645035682 },
                //12
                new double[]{ 0.86956521739130432, 0.863075924724205, 0.853990914990266, 0.83127839065541853, 0.83776768332251783, 0.85983127839065543, 0.85593770279039583, 0.87021414665801433, 0.85334198572355613, 0.82998053212199874, 0.85249837767683323 },
                //13
                new double[]{ 0.845554834523037, 0.87605451005840362, 0.84815055158987673, 0.84101232965606754, 0.85788449059052563, 0.84295911745619723, 0.85983127839065543, 0.85139519792342633, 0.87021414665801433, 0.85983127839065543, 0.855288773523686 },
                //14
                new double[]{ 0.85204412719013622, 0.85723556132381573, 0.86956521739130432, 0.84750162232316673, 0.854639844256976, 0.84231018818948733, 0.84360804672290723, 0.863724853990915, 0.85204412719013622, 0.84620376378974693, 0.85288773523685912 },
                //15
                new double[]{ 0.84620376378974693, 0.863075924724205, 0.83906554185593774, 0.85658663205710572, 0.872809863724854, 0.84750162232316673, 0.863075924724205, 0.844905905256327, 0.84620376378974693, 0.85853341985723552, 0.85379623621025291 },
                //16
                new double[]{ 0.85788449059052563, 0.85658663205710572, 0.83257624918883844, 0.85204412719013622, 0.85139519792342633, 0.84815055158987673, 0.872809863724854, 0.84944841012329653, 0.86112913692407522, 0.85723556132381573, 0.85392602206359491 },
                //17
                new double[]{ 0.84750162232316673, 0.85204412719013622, 0.85139519792342633, 0.85334198572355613, 0.84036340038935753, 0.85139519792342633, 0.86761842959117452, 0.853990914990266, 0.85334198572355613, 0.863075924724205, 0.85340687865022713 },
                //18
                new double[]{ 0.85269305645684623, 0.872160934458144, 0.85788449059052563, 0.85593770279039583, 0.853990914990266, 0.85334198572355613, 0.826735885788449, 0.86242699545749513, 0.85528877352368593, 0.85139519792342633, 0.85418559377027914 }
            };

            Console.WriteLine("Evolving electrodes only:");
            Console.WriteLine("");
            Console.WriteLine("");

            for (var i= 0; i < electrodes.Length; i++)
            {
                MannWhitneyWilcoxonTest mwTest = new MannWhitneyWilcoxonTest(all_electrodes, electrodes[i], TwoSampleHypothesis.FirstValueIsSmallerThanSecond);
                Console.WriteLine((i+2) + " electrodes:");
                Console.WriteLine("MWW Test: Statistic - " + mwTest.Statistic + " , PValue - " + mwTest.PValue + " , Significant - " + mwTest.Significant);
                Console.WriteLine("");
            }

            double[][] powerbands = new double[][]
            {
                //2
                new double[]{ 0.83971447112264763,      0.85788449059052563,      0.85269305645684623,      0.86437378325762493,      0.845554834523037,      0.84231018818948733,      0.87345879299156393,      0.85528877352368593,      0.85009733939000653,      0.854639844256976, 0.85360155743024024 },
                //3
                new double[]{ 0.853990914990266,      0.85983127839065543,      0.84879948085658663,      0.84750162232316673,      0.85334198572355613,      0.854639844256976,      0.85918234912394553,      0.84879948085658663,      0.85204412719013622,      0.86177806619078523, 0.85399091499026591 },
                //4
                new double[]{ 0.863724853990915,      0.85658663205710572,      0.83711875405580793,      0.86567164179104472,      0.85139519792342633,      0.83257624918883844,      0.85918234912394553,      0.83906554185593774,      0.83776768332251783,      0.88578844905905252, 0.85288773523685912 },
                //5
                new double[]{ 0.86567164179104472,      0.86826735885788453,      0.845554834523037,      0.84101232965606754,      0.86112913692407522,      0.85593770279039583,      0.85009733939000653,      0.86048020765736533,      0.83776768332251783,      0.85918234912394553, 0.854510058403634 },
                //6
                new double[]{ 0.844905905256327,      0.85204412719013622,      0.85723556132381573,      0.86048020765736533,      0.84815055158987673,      0.84360804672290723,      0.85788449059052563,      0.86632057105775473,      0.86891628812459443,      0.85788449059052563, 0.85574302401038282 },
                //7
                new double[]{ 0.863724853990915,      0.854639844256976,      0.854639844256976,      0.85918234912394553,      0.85983127839065543,      0.85658663205710572,      0.84166125892277743,      0.84879948085658663,      0.85009733939000653,      0.84815055158987673, 0.85373134328358213 },
                //8
                new double[]{ 0.84879948085658663,      0.86112913692407522,      0.86502271252433482,      0.84231018818948733,      0.84815055158987673,      0.88319273199221282,      0.85204412719013622,      0.85074626865671643,      0.835820895522388,      0.85204412719013622, 0.85392602206359514 },
                //9
                new double[]{ 0.854639844256976, 0.85139519792342633, 0.872809863724854, 0.82868267358857883, 0.87475665152498383, 0.83776768332251783, 0.854639844256976, 0.854639844256976, 0.84620376378974693, 0.86502271252433482, 0.854055807916937 }
            };

            Console.WriteLine("");
            Console.WriteLine("");
            Console.WriteLine("Evolving electrodes AND powerband");
            Console.WriteLine("");

            for (var i = 0; i < powerbands.Length; i++)
            {
                MannWhitneyWilcoxonTest mwTest = new MannWhitneyWilcoxonTest(all_electrodes, powerbands[i], TwoSampleHypothesis.FirstValueIsSmallerThanSecond);
                Console.WriteLine((i + 2) + " electrodes:");
                Console.WriteLine("MWW Test: Statistic - " + mwTest.Statistic + " , PValue - " + mwTest.PValue + " , Significant - " + mwTest.Significant);
                Console.WriteLine("");
            }

            Console.ReadKey();
        }
        
    }
}
